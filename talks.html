<!doctype html>
<html lang="en">
<head>
  <!-- Le head reste identique -->
</head>
<body>
  <!-- Le body reste identique jusqu'au script -->

  <script>
    // Mathematical formulas for talks page
    const talksFormulas = [
      '‚àÄ', '‚àÉ', '‚àà', '‚äÜ', '‚à™', '‚à©', '‚Üí', '‚Üî', '‚àß', '‚à®', '¬¨', '‚üπ', 
      'Hom', 'ker', 'im', '‚äï', '‚äó', '‚âÖ', '‚àº', '‚â°', '‚àá', '‚àÇ', '‚à´'
    ];

    // Create floating mathematical symbols
    function createFloatingTalksMath() {
      const formula = talksFormulas[Math.floor(Math.random() * talksFormulas.length)];
      const element = document.createElement('div');
      element.className = 'math-animation';
      element.textContent = formula;
      element.style.left = Math.random() * window.innerWidth + 'px';
      element.style.animationDuration = (Math.random() * 12 + 18) + 's';
      element.style.animation = 'mathFloat ' + (Math.random() * 12 + 18) + 's linear';
      
      document.body.appendChild(element);
      
      setTimeout(() => {
        element.remove();
      }, 30000);
    }

    // Start mathematical animations
    setInterval(createFloatingTalksMath, 4000);

    // Highlight talk function
    function highlightTalk(element) {
      // Remove previous highlights
      document.querySelectorAll('.talk').forEach(talk => {
        talk.style.background = 'linear-gradient(135deg, white 0%, #f8f9fa 100%)';
      });
      
      // Highlight current talk
      element.style.background = 'linear-gradient(135deg, #fff3cd 0%, #ffeaa7 100%)';
      
      // Add temporary glow effect
      element.style.boxShadow = '0 0 25px rgba(255, 193, 7, 0.5)';
      
      setTimeout(() => {
        element.style.boxShadow = '0 4px 15px rgba(0,0,0,0.08)';
      }, 2000);
    }

    // Animate talks counter
    function animateTalksCounter() {
      const counter = document.getElementById('talks-count');
      let current = 0;
      const target = 5;
      const increment = target / 30;
      
      const timer = setInterval(() => {
        current += increment;
        if (current >= target) {
          counter.textContent = target;
          clearInterval(timer);
        } else {
          counter.textContent = Math.floor(current);
        }
      }, 50);
    }

    // Add interactive timeline
    function createTimeline() {
      const talks = document.querySelectorAll('.talk');
      talks.forEach((talk, index) => {
        talk.style.animationDelay = `${index * 0.2}s`;
        talk.style.animation = 'fadeInUp 0.6s ease-out forwards';
        talk.style.opacity = '0';
        
        setTimeout(() => {
          talk.style.opacity = '1';
        }, index * 200);
      });
    }

    // Add hover sound effect simulation
    function addHoverEffects() {
      const talks = document.querySelectorAll('.talk');
      talks.forEach(talk => {
        talk.addEventListener('mouseenter', function() {
          this.style.borderLeftColor = '#e74c3c';
          
          // Create ripple effect
          const ripple = document.createElement('div');
          ripple.style.cssText = `
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            background: rgba(52, 152, 219, 0.3);
            border-radius: 50%;
            transform: translate(-50%, -50%);
            animation: ripple 0.6s ease-out;
            pointer-events: none;
          `;
          
          const style = document.createElement('style');
          style.textContent = `
            @keyframes ripple {
              to {
                width: 200px;
                height: 200px;
                opacity: 0;
              }
            }
          `;
          
          if (!document.querySelector('style[data-ripple]')) {
            style.setAttribute('data-ripple', 'true');
            document.head.appendChild(style);
          }
          
          this.appendChild(ripple);
          
          setTimeout(() => {
            ripple.remove();
          }, 600);
        });
        
        talk.addEventListener('mouseleave', function() {
          this.style.borderLeftColor = '#3498db';
        });
      });
    }

    // Create presentation skills tracker
    function createSkillsTracker() {
      const skills = [
        { name: 'Content Knowledge', level: 95 },
        { name: 'Visual Design', level: 88 },
        { name: 'Public Speaking', level: 90 },
        { name: 'Time Management', level: 92 },
        { name: 'Q&A Handling', level: 87 }
      ];
      
      // This would be displayed in a modal or separate section if needed
      window.presentationSkills = skills;
    }

    // Add keyboard navigation
    function setupKeyboardNavigation() {
      let currentTalk = 0;
      const talks = document.querySelectorAll('.talk');
      
      document.addEventListener('keydown', function(e) {
        if (e.key === 'ArrowDown') {
          e.preventDefault();
          currentTalk = Math.min(currentTalk + 1, talks.length - 1);
          highlightTalk(talks[currentTalk]);
          talks[currentTalk].scrollIntoView({ behavior: 'smooth', block: 'center' });
        } else if (e.key === 'ArrowUp') {
          e.preventDefault();
          currentTalk = Math.max(currentTalk - 1, 0);
          highlightTalk(talks[currentTalk]);
          talks[currentTalk].scrollIntoView({ behavior: 'smooth', block: 'center' });
        } else if (e.key === 'Enter') {
          e.preventDefault();
          talks[currentTalk].click();
        }
      });
    }

    // Add presentation timer widget
    function createPresentationTimer() {
      const timer = document.createElement('div');
      timer.style.cssText = `
        position: fixed;
        bottom: 20px;
        right: 20px;
        background: linear-gradient(135deg, #3498db, #2980b9);
        color: white;
        padding: 15px;
        border-radius: 10px;
        box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        font-size: 14px;
        cursor: pointer;
        transition: all 0.3s ease;
        z-index: 1000;
      `;
      
      timer.innerHTML = `
        <div style="text-align: center;">
          <div style="font-weight: bold; margin-bottom: 5px;">‚è±Ô∏è Presentation Timer</div>
          <div id="timer-display">00:00</div>
          <button onclick="toggleTimer()" style="margin-top: 5px; padding: 5px 10px; border: none; border-radius: 5px; background: white; color: #3498db; cursor: pointer;">Start</button>
        </div>
      `;
      
      timer.addEventListener('mouseenter', function() {
        this.style.transform = 'scale(1.05)';
      });
      
      timer.addEventListener('mouseleave', function() {
        this.style.transform = 'scale(1)';
      });
      
      document.body.appendChild(timer);
    }

    // Timer functionality
    let timerInterval;
    let seconds = 0;
    let isRunning = false;

    function toggleTimer() {
      const button = document.querySelector('#timer-display').nextElementSibling;
      const display = document.getElementById('timer-display');
      
      if (isRunning) {
        clearInterval(timerInterval);
        button.textContent = 'Start';
        isRunning = false;
      } else {
        timerInterval = setInterval(() => {
          seconds++;
          const mins = Math.floor(seconds / 60);
          const secs = seconds % 60;
          display.textContent = `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
        }, 1000);
        button.textContent = 'Stop';
        isRunning = true;
      }
    }

    // üî• ICI COMMENCE LA SUITE DU CODE (√Ä PARTIR DE LA LIGNE 444) üî•

    // Add progressive enhancement for talks timeline
    function enhanceTimeline() {
      const talks = document.querySelectorAll('.talk');
      
      // Create a timeline progress indicator
      const timeline = document.createElement('div');
      timeline.style.cssText = `
        position: fixed;
        left: 20px;
        top: 50%;
        transform: translateY(-50%);
        width: 4px;
        height: 200px;
        background: linear-gradient(to bottom, #3498db, #e74c3c);
        border-radius: 2px;
        opacity: 0.3;
        z-index: 100;
      `;
      
      const progressDot = document.createElement('div');
      progressDot.style.cssText = `
        position: absolute;
        width: 12px;
        height: 12px;
        background: #e74c3c;
        border-radius: 50%;
        left: -4px;
        top: 0;
        transition: all 0.3s ease;
        box-shadow: 0 2px 8px rgba(231, 76, 60, 0.4);
      `;
      
      timeline.appendChild(progressDot);
      document.body.appendChild(timeline);
      
      // Update progress based on scroll
      window.addEventListener('scroll', () => {
        const scrollPercent = window.scrollY / (document.body.scrollHeight - window.innerHeight);
        progressDot.style.top = `${Math.min(scrollPercent * 188, 188)}px`;
      });
    }

    // Create interactive presentation checklist
    function createPresentationChecklist() {
      const checklist = document.createElement('div');
      checklist.style.cssText = `
        position: fixed;
        top: 20px;
        right: 20px;
        background: white;
        padding: 20px;
        border-radius: 10px;
        box-shadow: 0 4px 20px rgba(0,0,0,0.15);
        width: 250px;
        max-height: 300px;
        overflow-y: auto;
        z-index: 1001;
        transform: translateX(300px);
        transition: transform 0.3s ease;
      `;
      
      const checklistItems = [
        'Prepare slides',
        'Practice timing',
        'Check equipment',
        'Prepare Q&A',
        'Review content',
        'Mental preparation'
      ];
      
      let checklistHTML = `
        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
          <h4 style="margin: 0; color: #2c3e50; font-size: 16px;">üìã Presentation Checklist</h4>
          <button onclick="toggleChecklist()" style="background: none; border: none; font-size: 18px; cursor: pointer;">√ó</button>
        </div>
      `;
      
      checklistItems.forEach((item, index) => {
        checklistHTML += `
          <div style="margin: 10px 0; display: flex; align-items: center;">
            <input type="checkbox" id="check-${index}" style="margin-right: 8px; transform: scale(1.2);">
            <label for="check-${index}" style="font-size: 14px; color: #444; cursor: pointer;">${item}</label>
          </div>
        `;
      });
      
      checklist.innerHTML = checklistHTML;
      document.body.appendChild(checklist);
      
      // Show checklist after a delay
      setTimeout(() => {
        checklist.style.transform = 'translateX(0)';
      }, 2000);
      
      // Add checkbox interactions
      checklist.querySelectorAll('input[type="checkbox"]').forEach(checkbox => {
        checkbox.addEventListener('change', function() {
          const label = this.nextElementSibling;
          if (this.checked) {
            label.style.textDecoration = 'line-through';
            label.style.color = '#95a5a6';
            
            // Celebration effect
            createCelebrationEffect(this);
          } else {
            label.style.textDecoration = 'none';
            label.style.color = '#444';
          }
        });
      });
    }

    // Toggle checklist visibility
    function toggleChecklist() {
      const checklist = document.querySelector('[style*="position: fixed"][style*="right: 20px"][style*="width: 250px"]');
      if (checklist) {
        const isVisible = checklist.style.transform === 'translateX(0px)';
        checklist.style.transform = isVisible ? 'translateX(300px)' : 'translateX(0px)';
      }
    }

    // Create celebration effect for completed checklist items
    function createCelebrationEffect(element) {
      const rect = element.getBoundingClientRect();
      const particles = [];
      
      for (let i = 0; i < 8; i++) {
        const particle = document.createElement('div');
        particle.innerHTML = '‚ú®';
        particle.style.cssText = `
          position: fixed;
          left: ${rect.left + Math.random() * 20}px;
          top: ${rect.top + Math.random() * 20}px;
          font-size: 12px;
          pointer-events: none;
          z-index: 10000;
          animation: sparkle 1s ease-out forwards;
        `;
        
        particles.push(particle);
        document.body.appendChild(particle);
      }
      
      // Add sparkle animation if not exists
      if (!document.querySelector('style[data-sparkle]')) {
        const style = document.createElement('style');
        style.setAttribute('data-sparkle', 'true');
        style.textContent = `
          @keyframes sparkle {
            0% { transform: scale(0) rotate(0deg); opacity: 1; }
            50% { transform: scale(1) rotate(180deg); opacity: 1; }
            100% { transform: scale(0) rotate(360deg); opacity: 0; }
          }
        `;
        document.head.appendChild(style);
      }
      
      // Clean up particles
      setTimeout(() => {
        particles.forEach(particle => particle.remove());
      }, 1000);
    }

    // Enhanced search functionality for talks
    function createTalksSearch() {
      const searchContainer = document.createElement('div');
      searchContainer.style.cssText = `
        margin: 20px 0;
        position: relative;
      `;
      
      const searchInput = document.createElement('input');
      searchInput.type = 'text';
      searchInput.placeholder = 'üîç Search talks by topic, date, or location...';
      searchInput.style.cssText = `
        width: 100%;
        padding: 12px 20px;
        border: 2px solid #e1e8ed;
        border-radius: 25px;
        font-size: 16px;
        transition: all 0.3s ease;
        background: white;
      `;
      
      searchInput.addEventListener('focus', function() {
        this.style.borderColor = '#3498db';
        this.style.boxShadow = '0 0 10px rgba(52, 152, 219, 0.3)';
      });
      
      searchInput.addEventListener('blur', function() {
        this.style.borderColor = '#e1e8ed';
        this.style.boxShadow = 'none';
      });
      
      searchInput.addEventListener('input', function() {
        const searchTerm = this.value.toLowerCase();
        const talks = document.querySelectorAll('.talk');
        
        talks.forEach(talk => {
          const content = talk.textContent.toLowerCase();
          if (content.includes(searchTerm) || searchTerm === '') {
            talk.style.display = 'block';
            talk.style.animation = 'fadeInUp 0.5s ease-out';
          } else {
            talk.style.display = 'none';
          }
        });
        
        // Show search results count
        const visibleTalks = Array.from(talks).filter(talk => talk.style.display !== 'none').length;
        updateSearchResults(visibleTalks, talks.length);
      });
      
      searchContainer.appendChild(searchInput);
      
      // Insert search before talks
      const talksSection = document.querySelector('h4');
      talksSection.parentNode.insertBefore(searchContainer, talksSection);
    }

    // Update search results indicator
    function updateSearchResults(visible, total) {
      let indicator = document.getElementById('search-results');
      
      if (!indicator) {
        indicator = document.createElement('div');
        indicator.id = 'search-results';
        indicator.style.cssText = `
          text-align: center;
          padding: 10px;
          color: #666;
          font-size: 14px;
          font-style: italic;
        `;
        
        const searchContainer = document.querySelector('input[placeholder*="Search talks"]').parentNode;
        searchContainer.appendChild(indicator);
      }
      
      if (visible === total) {
        indicator.textContent = '';
      } else {
        indicator.textContent = `Showing ${visible} of ${total} talks`;
      }
    }

    // Create presentation mode toggle
    function createPresentationMode() {
      const modeToggle = document.createElement('button');
      modeToggle.innerHTML = 'üé§ Presentation Mode';
      modeToggle.style.cssText = `
        position: fixed;
        bottom: 80px;
        right: 20px;
        background: linear-gradient(135deg, #e74c3c, #c0392b);
        color: white;
        border: none;
        padding: 12px 20px;
        border-radius: 25px;
        cursor: pointer;
        font-size: 14px;
        font-weight: 500;
        box-shadow: 0 4px 15px rgba(231, 76, 60, 0.3);
        transition: all 0.3s ease;
        z-index: 1000;
      `;
      
      modeToggle.addEventListener('click', togglePresentationMode);
      modeToggle.addEventListener('mouseenter', function() {
        this.style.transform = 'scale(1.05)';
        this.style.boxShadow = '0 6px 20px rgba(231, 76, 60, 0.4)';
      });
      
      modeToggle.addEventListener('mouseleave', function() {
        this.style.transform = 'scale(1)';
        this.style.boxShadow = '0 4px 15px rgba(231, 76, 60, 0.3)';
      });
      
      document.body.appendChild(modeToggle);
    }

    // Toggle presentation mode
    function togglePresentationMode() {
      const body = document.body;
      const isPresMode = body.classList.contains('presentation-mode');
      
      if (!isPresMode) {
        // Enter presentation mode
        body.classList.add('presentation-mode');
        
        // Add presentation mode styles
        const presStyle = document.createElement('style');
        presStyle.id = 'presentation-style';
        presStyle.textContent = `
          .presentation-mode {
            background: #1a1a1a !important;
            color: #ffffff !important;
          }
          .presentation-mode .talk {
            background: linear-gradient(135deg, #2c3e50, #34495e) !important;
            color: #ffffff !important;
            border-left-color: #3498db !important;
          }
          .presentation-mode .date {
            background: rgba(52, 152, 219, 0.3) !important;
            color: #ffffff !important;
          }
          .presentation-mode h1, .presentation-mode h4, .presentation-mode p {
            color: #ffffff !important;
          }
          .presentation-mode .left-column {
            background: rgba(44, 62, 80, 0.8);
            padding: 20px;
            border-radius: 10px;
          }
        `;
        document.head.appendChild(presStyle);
        
        // Update button text
        document.querySelector('button[style*="bottom: 80px"]').innerHTML = 'üåü Exit Presentation Mode';
      } else {
        // Exit presentation mode
        body.classList.remove('presentation-mode');
        const presStyle = document.getElementById('presentation-style');
        if (presStyle) presStyle.remove();
        
        // Update button text
        document.querySelector('button[style*="bottom: 80px"]').innerHTML = 'üé§ Presentation Mode';
      }
    }

    // Initialize everything when page loads
    document.addEventListener('DOMContentLoaded', function() {
      animateTalksCounter();
      createTimeline();
      addHoverEffects();
      createSkillsTracker();
      setupKeyboardNavigation();
      createPresentationTimer();
      
      // Add new enhancements
      setTimeout(() => {
        enhanceTimeline();
        createPresentationChecklist();
        createTalksSearch();
        createPresentationMode();
      }, 1000);
      
      // Add smooth scrolling to navigation
      document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
          e.preventDefault();
          const target = document.querySelector(this.getAttribute('href'));
          if (target) {
            target.scrollIntoView({
              behavior: 'smooth',
              block: 'start'
            });
          }
        });
      });
      
      // Add typing effect to tips
      const tips = document.querySelectorAll('.tip-text');
      tips.forEach((tip, index) => {
        const text = tip.innerHTML;
        tip.innerHTML = '';
        
        setTimeout(() => {
          let i = 0;
          function typeText() {
            if (i < text.length) {
              tip.innerHTML += text.charAt(i);
              i++;
              setTimeout(typeText, 20);
            }
          }
          typeText();
        }, index * 300);
      });
      
      // Add scroll-triggered animations
      const observerOptions = {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
      };
      
      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.style.animation = 'fadeInUp 0.6s ease-out forwards';
          }
        });
      }, observerOptions);
      
      // Observe all talks for scroll animations
      document.querySelectorAll('.talk').forEach(talk => {
        observer.observe(talk);
      });
    });

    // Add visual feedback for PDF links
    document.querySelectorAll('.pdf-link').forEach(link => {
      link.addEventListener('click', function(e) {
        e.stopPropagation();
        
        // Create download animation
        const icon = document.createElement('div');
        icon.innerHTML = 'üìÑ';
        icon.style.cssText = `
          position: fixed;
          top: 50%;
          left: 50%;
          font-size: 30px;
          z-index: 10000;
          animation: downloadPulse 1s ease-out;
          pointer-events: none;
        `;
        
        const style = document.createElement('style');
        style.textContent = `
          @keyframes downloadPulse {
            0% { transform: translate(-50%, -50%) scale(0); opacity: 0; }
            50% { transform: translate(-50%, -50%) scale(1.2); opacity: 1; }
            100% { transform: translate(-50%, -50%) scale(1); opacity: 0; }
          }
        `;
        
        if (!document.querySelector('style[data-download]')) {
          style.setAttribute('data-download', 'true');
          document.head.appendChild(style);
        }
        
        document.body.appendChild(icon);
        
        setTimeout(() => {
          icon.remove();
        }, 1000);
      });
    });
  </script>
</body>
</html>
